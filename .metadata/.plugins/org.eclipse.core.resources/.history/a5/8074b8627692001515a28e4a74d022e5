package top.flyfire.degetation.net.tcp.c2c;

import java.io.IOException;
import java.io.InputStream;
import java.net.ServerSocket;
import java.util.Properties;

import top.flyfire.degetation.buffer.BufferEngine;
import top.flyfire.degetation.net.ServerEngine;

public class C2CServer extends ServerEngine {

	private BufferEngine inputEngine = new BufferEngine();
	
	private BufferEngine outputEngine = new BufferEngine();
	
	private Properties properties = new Properties();
	
	private ServerSocket serverSocket ;
	
	public C2CServer(String name) {
		super(name);
		// TODO Auto-generated constructor stub
		InputStream inputStream = this.getClass().getResourceAsStream(PROPERTIES_NAME);
		if(inputStream==null){
			inputStream = C2CServer.class.getResourceAsStream(PROPERTIES_NAME);
		}
		try {
			properties.load(inputStream);
		} catch (IOException e) {
			// TODO Auto-generated catch block
			throw new RuntimeException(e);
		}
		this.port = Integer.valueOf(properties.getProperty(SERVER_PORT));
		
	}

	@Override
	public void start() {
		// TODO Auto-generated method stub
		this.serverSocket = new ServerSocket(this.port);
	}

	@Override
	public void stop() {
		// TODO Auto-generated method stub
		
	}

	@Override
	protected void exec() {
		// TODO Auto-generated method stub
		while(true){
			
		}
	}

}
